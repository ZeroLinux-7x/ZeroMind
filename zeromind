#!/usr/bin/env bash

# ZeroMind CLI for ZeroLinux-7x
# ÙŠØ¹Ù…Ù„ ÙƒØ¨ÙˆÙ‘Ø§Ø¨Ø© Ù„Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø°ÙƒÙŠØ©

function header() {
  echo -e "\nğŸ”® ZeroMind â€“ AI Dev Assistant\n"
}

function list_modules() {
  echo "Ù…ØªÙˆÙØ± modules:"
  for dir in modules/*/; do
    echo " - $(basename "$dir")"
  done
}

function run_module() {
  module="$1"
  shift
  mod_script="modules/$module/setup.sh"
  if [[ -x "$mod_script" ]]; then
    bash "$mod_script" "$@"
  else
    echo "âŒ module '$module' ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ†ÙÙŠØ°."
  fi
}

# ğŸ“Œ Main
header
cmd="$1"; shift
case "$cmd" in
  list)
    list_modules
    ;;
  run)
    module="$1"; shift
    run_module "$module" "$@"
    ;;
  *)
    echo "Usage:"
    echo "  zeromind list"
    echo "  zeromind run <module> [args]"
    ;;
esac
